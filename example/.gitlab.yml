# THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
# USE UNIVERSAL-CI PACKAGE

stages:
  - install
  - build
  - test
  - deploy
variables:
  GIT_DEPTH: 1
install node_modules:
  stage: install
  needs: []
  script:
    - yarn --frozen-lockfile
build app:
  stage: build
  variables:
    NODE_ENV: production
  needs:
    - install node_modules
  script:
    - yarn build:app
build design system:
  stage: build
  variables:
    NODE_ENV: production
  needs:
    - install node_modules
  script:
    - yarn build:design-system
run unit tests:
  stage: test
  needs:
    - install node_modules
  script:
    - yarn test:unit
run e2e tests:
  stage: test
  needs:
    - install node_modules
  script:
    - yarn test:e2e
deploy app:
  stage: deploy
  needs:
    - install node_modules
    - build app
  script:
    - yarn deploy:app
deploy design system:
  stage: deploy
  needs:
    - install node_modules
    - build design system
  script:
    - yarn deploy:design-system
